# Информация
Тема диплома: Интеграция нейронной языковой модели для диалогов в игровой движок.
Автор: Алексеев М.В. и Попов А.Д.
Группа Б9121-09.03.04
Научный руководитель: Профессор ДПИиИИ, Доктор технических наук, профессор Артемьева И. Л.

Интеграция нейронной языковой модели для диалогов в игровой движок. Подсистема генерации диалогов и настройки модели 
Интеграция нейронной языковой модели для диалогов в игровой движок. Подсистема взаимодействия модели с игровым движком Unity

# Клонирование репозитория
git clone -- ссылка

# Требования для Backend (Подсистема генерации диалогов и настройки модели)
pip 24.3.1
python 3.12.9
Visual Studio Build Tools 2022
cMake
Windows SDK

скачайте модель -- mistral-7b-v0.1.Q4_K_M.gguf
ссылка: https://huggingface.co/TheBloke/Mistral-7B-v0.1-GGUF/tree/main


# Настройка - 
Откройте директорию Assets\model_dt\models, сюда необходимо поместить ранее скачанную модель.

Необходимо проследить чтобы был путь в PATH ко всем библиотекам Windows SDK и Visual Studio Build Tools, например: kernel32.lib, cmake, rc и так далее.
Если после того как вы указали путь и терминал его не видит перезапустите его.

Создайте виртуальное окружение
python -m venv venv
активируйте виртуальное окружение
venv/scripts/activate
Установите зависимости
pip install -r requirements.txt

Примечание: llama.cpp_python, может часто ругаться на PATH, рекомендую проверить все ли было указано корректно.
# Запуск
uvicorn main:app --reload
адрес:
http://127.0.0.1:8000

# Требования для Frontend (Подсистема взаимодействия модели с игровым движком Unity)
1. Установить Unity Hub  
2. Перейти в Installs и установить Unity 6 (6000.0.39f1)  
3. Клонированный репозиторий с проектом должен отобразиться в Projects  
4. Открыть проект  
5. Добавить справочные данные, персонажей, сцены (можно по одному каждого)  
6. Добавить запись в таблицу "Детали" (связать персонажа и сцену для того, чтобы с этим персонажем можно было иметь диалог)  
7. На вкладке "Диалоги" выбрать персонажа и сцену  
8. При введении текста в поле ввода и нажатии на кнопку "Сгенерировать" будет сгенерирована новая реплика от лица персонажа. В БД будут добавлены:
   - реплика игрока, введённая ранее в поле ввода,
   - а также сгенерированная реплика
